---
  - name: Initial setup
    hosts: all
    roles:
      - init

  - name: Database server
    hosts: db_servers
    roles:
      - mysql
    tags: mx

  - name: Bind9 server
    hosts: bind_servers
    roles:
      - bind

  - name: Docker server
    hosts: docker_servers
    roles:
      - docker

  - name: Web server
    hosts: web_servers
    roles:
      - agama
      - nginx
    tags: mx

  - name: IndluxDB servers
    hosts: influxdb_servers
    roles:
      - influxdb

  - name: agama-client servers
    hosts: agama-client_servers
    roles:
      - agama_client

  - name: Prometheus server
    hosts: prometheus_servers
    roles:
      - prometheus
      #- nginx this was on before lab 13

  - name: Grafana servers
    hosts: grafana_servers
    roles:
      #- docker
      - grafana

  - name: keepalived_servers
    hosts: keepalived_servers
    roles:
      - keepalived

  - name: HAProxy servers
    hosts: haproxy_servers
    roles:
      - haproxy
